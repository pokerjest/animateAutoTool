# ğŸ¬ Animate Auto Tool

<div align="center">

![Go Version](https://img.shields.io/badge/Go-1.24-00ADD8?style=for-the-badge&logo=go)
![Version](https://img.shields.io/badge/Version-v0.3.0--Beta-blue?style=for-the-badge)
![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)
![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/pokerjest/animateAutoTool/go.yml?style=for-the-badge)

**ä¸€ä¸ªä¼˜é›…çš„åŠ¨æ¼«è‡ªåŠ¨è¿½ç•ªä¸‹è½½å·¥å…·**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜) â€¢ [å¼€å‘](#-å¼€å‘)

</div>

---

## ğŸ“– ç®€ä»‹

Animate Auto Tool æ˜¯ä¸€ä¸ªåŸºäº Go 1.24 å¼€å‘çš„è‡ªåŠ¨åŒ–åŠ¨æ¼«ä¸‹è½½å·¥å…·ï¼Œä¸“ä¸ºè¿½ç•ªå…šæ‰“é€ ã€‚å®ƒé€šè¿‡è®¢é˜… [Mikan Project](https://mikanani.me/) çš„ RSS æºï¼Œè‡ªåŠ¨è¿½è¸ªã€ä¸‹è½½å¹¶æ•´ç†æ‚¨å–œæ¬¢çš„åŠ¨æ¼«ï¼ŒåŒæ—¶èšåˆ Bangumiã€TMDB å’Œ AniList çš„ä¸°å¯Œå…ƒæ•°æ®ï¼Œä¸ºæ‚¨å‘ˆç°ä¸€ä¸ªç²¾ç¾çš„æœ¬åœ°ç•ªå‰§åº“ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- ğŸ¯ **æ™ºèƒ½è®¢é˜…**ï¼šä¸€é”®è®¢é˜… Mikan RSSï¼Œè‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚
- ğŸŒ¸ **å¤šæºå…ƒæ•°æ®**ï¼šèšåˆ Bangumi + TMDB + AniListï¼Œæµ·æŠ¥ã€ç®€ä»‹ä¸€åº”ä¿±å…¨ã€‚
- ğŸš€ **è‡ªåŠ¨åŒ–æµç¨‹**ï¼šè‡ªåŠ¨æ£€æµ‹ -> è‡ªåŠ¨ä¸‹è½½ -> è‡ªåŠ¨é‡å‘½å -> è‡ªåŠ¨æ•´ç†ã€‚
- ğŸ¨ **ç°ä»£ UI**ï¼šåŸºäº HTMX + Tailwind çš„æ¸…æ–°ç»ç’ƒæ‹Ÿæ€ç•Œé¢ã€‚
- ğŸ“¦ **å¼€ç®±å³ç”¨**ï¼šé›¶ä¾èµ–éƒ¨ç½²ï¼Œå†…ç½® SQLiteï¼Œæ— éœ€å¤æ‚é…ç½®ã€‚
- ğŸ“‚ **ç¦»çº¿æµè§ˆ**ï¼šå…ƒæ•°æ®æœ¬åœ°å›¾ç‰‡åŒ–å­˜å‚¨ï¼Œæ— ç½‘ä¹Ÿèƒ½æµè§ˆç²¾ç¾æµ·æŠ¥ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸŒ¸ æè‡´çš„å…ƒæ•°æ®ä½“éªŒ
- **å¤šæºèšåˆ**ï¼šçµæ´»é€‰æ‹©å…ƒæ•°æ®æºï¼ˆBangumi/TMDB/AniListï¼‰ï¼Œç¡®ä¿ä¿¡æ¯æœ€å…¨æœ€å‡†ã€‚
- **ç¦»çº¿ç¼“å­˜**ï¼šæ‰€æœ‰å›¾ç‰‡å’Œæ–‡æœ¬å‡å­˜å‚¨äºæœ¬åœ°æ•°æ®åº“ï¼ŒåŠ è½½é€Ÿåº¦é£å¿«ï¼Œå®Œå…¨ç¦»çº¿å¯ç”¨ã€‚
- **æ™ºèƒ½åŒ¹é…**ï¼šè‡ªåŠ¨è§£æç§å­æ–‡ä»¶åï¼Œç²¾ç¡®åŒ¹é…å‰§é›†ä¿¡æ¯ã€‚
- **åŒå‘åŒæ­¥**ï¼šæ”¯æŒåŒæ­¥ Bangumi çš„"åœ¨çœ‹"è¿›åº¦ã€‚

### ğŸ“¦ ä¾¿æ·çš„è®¢é˜…ç®¡ç†
- **æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒ `æ ‡é¢˜ | é“¾æ¥` æ ¼å¼çš„æ–‡æœ¬æ‰¹é‡å¯¼å…¥ã€‚
- **äº¤äº’æ·»åŠ **ï¼šæœç´¢ç»“æœä¸€é”®æ·»åŠ ï¼Œæ”¯æŒé¢„è§ˆå‰§é›†åˆ—è¡¨ï¼Œé˜²æ­¢é”™è®¢ã€‚
- **ä¸€è§ˆæ— ä½™**ï¼šä»ªè¡¨ç›˜å®æ—¶å±•ç¤ºä»Šæ—¥æ›´æ–°å’Œå¾…çœ‹å‰§é›†ã€‚

### ğŸ›¡ï¸ æ•°æ®å®‰å…¨ä¸å¤‡ä»½
- **Cloudflare R2 å¤‡ä»½**ï¼šæ”¯æŒå°†å…ƒæ•°æ®ã€é…ç½®å’Œè®¢é˜…åˆ—è¡¨åŠ å¯†å¤‡ä»½è‡³äº‘ç«¯ã€‚
- **é€‰æ‹©æ€§æ¢å¤**ï¼šçµæ´»æ¢å¤æ‰€éœ€æ•°æ®ï¼ˆå¦‚ä»…æ¢å¤é…ç½®æˆ–ä»…æ¢å¤è®¢é˜…ï¼‰ï¼Œæ‹’ç»"ä¸€åˆ€åˆ‡"è¦†ç›–ã€‚

### ğŸ“‚ å¼ºå¤§çš„æœ¬åœ°ç®¡ç†
- **æ–‡ä»¶æ‰«æ**ï¼šè‡ªåŠ¨æ‰«ææœ¬åœ°ç›®å½•ï¼Œè¯†åˆ«å·²ä¸‹è½½çš„ç•ªå‰§æ–‡ä»¶ã€‚
- **æ™ºèƒ½é‡å‘½å**ï¼šåŸºäºè§„åˆ™è‡ªåŠ¨å‡€åŒ–æ–‡ä»¶åï¼Œè®©æ–‡ä»¶å¤¹æ•´æ•´é½é½ã€‚
- **ä¸‹è½½å†å²**ï¼šå»é‡æœºåˆ¶ç¡®ä¿ä¸ä¼šé‡å¤ä¸‹è½½åŒä¸€é›†ã€‚

### ğŸ”§ å®ç”¨å·¥å…·
- **è¿æ¥æµ‹è¯•**ï¼šå†…ç½® qBittorrent å’Œ R2 è¿æ¥æ€§è‡ªæ£€å·¥å…·ã€‚
- **æ—¥å¿—ç›‘æ§**ï¼šWeb ç•Œé¢ç›´æ¥æŸ¥çœ‹è¿è¡Œæ—¥å¿—ã€‚
- **å¯†ç ä¿æŠ¤**ï¼šæ•æ„Ÿä¿¡æ¯ï¼ˆToken/å¯†ç ï¼‰è‡ªåŠ¨éšè—ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰ç½®è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOS / Linux / Windows (WSL)
- **Go ç¯å¢ƒ**: Go 1.24 æˆ–æ›´é«˜ç‰ˆæœ¬ (`go version` æ£€æŸ¥)
- **Linux ä¾èµ–**: `sudo apt-get install libgtk-3-dev libappindicator3-dev` (ç”¨äºç³»ç»Ÿæ‰˜ç›˜)
- **ä¸‹è½½å™¨**: qBittorrent 4.0+ (éœ€å¼€å¯ Web UI)

### 2. å‘è¡Œç‰ˆä½¿ç”¨æŒ‡å— (æ¨è)

å¦‚æœæ‚¨ç›´æ¥ä¸‹è½½äº†æˆ‘ä»¬çš„é¢„ç¼–è¯‘åŒ…ï¼ˆRecommendedï¼‰ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### Windows ç”¨æˆ·
1. è§£å‹ä¸‹è½½çš„ `.zip` å‹ç¼©åŒ…ã€‚
2. è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹ã€‚
3. æ‰¾åˆ° `config.yaml.example`ï¼Œå°†å…¶é‡å‘½åä¸º `config.yaml`ã€‚
4. ä½¿ç”¨è®°äº‹æœ¬ç¼–è¾‘ `config.yaml`ï¼Œå¡«å…¥æ‚¨çš„ qBittorrent ä¿¡æ¯ã€‚
5. åŒå‡» **`start.bat`** å³å¯å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰ã€‚
   - å¦‚éœ€åœæ­¢ï¼Œè¯·åŒå‡» `stop.bat`ã€‚
   - å¦‚éœ€å‰å°è°ƒè¯•ï¼Œè¯·åŒå‡» `run.bat`ã€‚

#### macOS / Linux ç”¨æˆ·
1. è§£å‹ä¸‹è½½çš„ `.tar.gz` å‹ç¼©åŒ…ã€‚
2. åœ¨ç»ˆç«¯è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹ã€‚
3. é‡å‘½åé…ç½®æ–‡ä»¶ï¼š`mv config.yaml.example config.yaml`
4. ç¼–è¾‘é…ç½®ï¼š`nano config.yaml` (å¡«å…¥ qBittorrent ä¿¡æ¯)
5. è¿è¡Œå¯åŠ¨è„šæœ¬ï¼š
   ```bash
   ./start.sh
   ```
   - åœæ­¢æœåŠ¡ï¼š`./stop.sh`
   - é‡å¯æœåŠ¡ï¼š`./restart.sh`

### 3. ä»æºç ç¼–è¯‘å®‰è£…

å¦‚æœæ‚¨å¸Œæœ›ä»æºç ç¼–è¯‘ï¼ˆå¼€å‘è€…æ¨¡å¼ï¼‰ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/pokerjest/animateAutoTool.git
cd animateAutoTool

# æ­¥éª¤ 1: åˆå§‹åŒ–ç¯å¢ƒ (æ£€æŸ¥ä¾èµ–ã€åˆ›å»ºç›®å½•ã€ç”Ÿæˆé…ç½®)
./scripts/setup.sh

# æ­¥éª¤ 2: ä¿®æ”¹é…ç½®æ–‡ä»¶ (é¦–æ¬¡è¿è¡Œå¿…é¡»)
# æ­¤æ—¶ç›®å½•ä¸‹å·²ç”Ÿæˆ config.yamlï¼Œè¯·ç¼–è¾‘å¡«å†™å¿…è¦çš„ qBittorrent ä¿¡æ¯
vi config.yaml

# æ­¥éª¤ 3: å¯åŠ¨æœåŠ¡
./start.sh
```

**è®¿é—®åœ°å€**: `http://localhost:8306`

> [!TIP]
> **ä¸­å›½å¤§é™†ç”¨æˆ·**ï¼š
> ç¼–è¯‘è¿‡ç¨‹å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œè¯·é…ç½® GOPROXYï¼š
> `export GOPROXY=https://goproxy.cn,direct`

---

## âš™ï¸ è¯¦ç»†é…ç½®

### 1. qBittorrent è®¾ç½® (å¿…é¡»)
1. æ‰“å¼€ qBittorrent -> è®¾ç½® -> Web UIã€‚
2. å‹¾é€‰ **å¯ç”¨ Web ç”¨æˆ·ç•Œé¢**ã€‚
3. è®°ä¸‹ **ç«¯å£** (é»˜è®¤ 8080) å’Œ **ç”¨æˆ·å/å¯†ç **ã€‚
4. **æ¨è**ï¼šå–æ¶ˆå‹¾é€‰ "å¯¹æœ¬ç¨‹åºç›‘å¬çš„ IP åœ°å€å’Œç«¯å£è¿›è¡Œ CSRF ä¿æŠ¤" ä»¥é¿å…è¿æ¥é—®é¢˜ã€‚

### 2. é¡¹ç›®é…ç½® (`config.yaml`)

```yaml
server:
  port: 8306
  mode: debug # æˆ– release

database:
  path: data/animate.db

# å…³é”®é…ç½®ï¼šè¯·å¡«å…¥æ‚¨çš„çœŸå®ä¿¡æ¯
qbittorrent:
  url: "http://localhost:8080"
  username: "admin"
  password: "your_password"
  save_path: "/downloads/anime" # ä¸‹è½½ä¿å­˜è·¯å¾„
```

### 3. é«˜çº§é…ç½® (Web ç•Œé¢)
å¯åŠ¨æœåŠ¡åï¼Œè®¿é—® `è®¾ç½®` é¡µé¢å¯é…ç½®ï¼š
- **å…ƒæ•°æ® API Token** (TMDB / AniList / Bangumi)
- **ä»£ç†è®¾ç½®** (HTTP/SOCKS5)
- **å¤‡ä»½è®¾ç½®** (Cloudflare R2)

---

## ğŸ›  ç®¡ç†å‘½ä»¤

é¡¹ç›®æ ¹ç›®å½•æä¾›äº†ä¸€ç³»åˆ—è„šæœ¬æ–¹ä¾¿ç®¡ç†ï¼š

| å‘½ä»¤ | è¯´æ˜ | å¯¹åº”è„šæœ¬ |
|------|------|----------|
| `./start.sh` | ç¼–è¯‘å¹¶åå°å¯åŠ¨æœåŠ¡ | `scripts/manage.sh start` |
| `./stop.sh` | åœæ­¢æœåŠ¡ | `scripts/manage.sh stop` |
| `./restart.sh` | é‡å¯æœåŠ¡ | `scripts/manage.sh restart` |
| `./scripts/setup.sh` | ç¯å¢ƒåˆå§‹åŒ– | - |
| `./scripts/manage.sh status` | æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ | - |
| `./scripts/manage.sh log` | å®æ—¶æŸ¥çœ‹æ—¥å¿— | - |

---

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
animateAutoTool/
â”œâ”€â”€ cmd/             # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ internal/        # æ ¸å¿ƒä¸šåŠ¡ä»£ç 
â”‚   â”œâ”€â”€ api/         # HTTP æ¥å£ (Gin)
â”‚   â”œâ”€â”€ model/       # æ•°æ®æ¨¡å‹ (GORM)
â”‚   â”œâ”€â”€ service/     # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ downloader/  # ä¸‹è½½å™¨é€‚é…
â”‚   â””â”€â”€ ...
â”œâ”€â”€ web/             # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ templates/   # HTML æ¨¡æ¿
â”‚   â””â”€â”€ static/      # CSS/JS
â”œâ”€â”€ scripts/         # è¿ç»´è„šæœ¬
â””â”€â”€ config.yaml      # é…ç½®æ–‡ä»¶
```

### æŠ€æœ¯æ ˆ

| é¢†åŸŸ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| **è¯­è¨€** | Go 1.24 |
| **Web æ¡†æ¶** | Gin |
| **ORM** | GORM |
| **æ•°æ®åº“** | SQLite |
| **å‰ç«¯** | HTMX + Alpine.js + Tailwind CSS |
| **æ„å»º** | Make / Bash Scrips |

---

## ğŸ¤ è‡´è°¢

- [Mikan Project](https://mikanani.me/) - æ ¸å¿ƒ RSS æ•°æ®æº
- [qBittorrent](https://www.qbittorrent.org/) - ä¼˜ç§€çš„ä¸‹è½½å®¢æˆ·ç«¯
- [HTMX](https://htmx.org/) - è®©å‰ç«¯å›å½’ç®€æ´
- [Bangumi](https://bgm.tv/) - ä¸°å¯Œçš„åŠ¨æ¼«èµ„æ–™åº“

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯ã€‚

---

<div align="center">

**Made with â¤ï¸ by [pokerjest](https://github.com/pokerjest)**

</div>
